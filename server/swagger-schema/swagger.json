{"openapi":"3.1.1","info":{"title":"Task Management API","version":"1.0.0"},"components":{"securitySchemes":{"cookie":{"type":"apiKey","name":"session","in":"cookie"},"session":{"type":"apiKey","name":"session","in":"header"}},"schemas":{}},"paths":{"/health":{"get":{"summary":"Health check","tags":["health"],"responses":{"200":{"description":"Health check ok!","content":{"application/json":{"schema":{"description":"Health check ok!","type":"object","properties":{"status":{"type":"string"}},"required":["status"],"additionalProperties":false}}}}}}},"/users/register":{"post":{"summary":"Register a user","tags":["users"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":5,"examples":["John Doe"]},"email":{"type":"string","format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$","examples":["john.doe@example.com"]},"password":{"type":"string","minLength":8,"examples":["12345678"]}},"required":["name","email","password"]}}},"required":true},"responses":{"201":{"description":"Usuário registrado com sucesso!","content":{"application/json":{"schema":{"description":"Usuário registrado com sucesso!","type":"object","properties":{"userId":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"}},"required":["userId"],"additionalProperties":false}}}},"409":{"description":"Usuário já existe!","content":{"application/json":{"schema":{"description":"Usuário já existe!"}}}}}}},"/users/{id}":{"get":{"summary":"Get user profile","tags":["users"],"description":"Retrieves detailed profile information for a specific user by their unique identifier, including personal details such as name and email address.","parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$","examples":["123e4567-e89b-12d3-a456-426614174000"]},"in":"path","name":"id","required":true}],"security":[{"cookie":[],"session":[]}],"responses":{"200":{"description":"User profile!","content":{"application/json":{"schema":{"description":"User profile!","type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$","examples":["1"]},"name":{"type":"string","examples":["John Doe"]},"email":{"type":"string","format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$","examples":["john.doe@example.com"]}},"required":["id","name","email"],"additionalProperties":false}},"required":["user"],"additionalProperties":false,"examples":[{"user":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"John Doe","email":"john.doe@example.com"}}]}}}},"404":{"description":"User not found!","content":{"application/json":{"schema":{"description":"User not found!"}}}}}},"put":{"summary":"Update user profile","tags":["users"],"description":"Updates profile information for a specific user by their unique identifier. Allows modification of personal details such as name and email address. This endpoint requires a valid session cookie or session header for authentication.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","examples":["John Doe"]},"email":{"type":"string","format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$","examples":["john.doe@example.com"]}},"required":["name","email"]}}},"required":true},"parameters":[{"schema":{"type":"string","format":"uuid","pattern":"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$","examples":["123e4567-e89b-12d3-a456-426614174000"]},"in":"path","name":"id","required":true}],"security":[{"cookie":[],"session":[]}],"responses":{"200":{"description":"User profile updated successfully!","content":{"application/json":{"schema":{"description":"User profile updated successfully!"}}}},"401":{"description":"Unauthorized - user not logged in","content":{"application/json":{"schema":{"description":"Unauthorized - user not logged in"}}}},"403":{"description":"Forbidden - user not authorized to update profile","content":{"application/json":{"schema":{"description":"Forbidden - user not authorized to update profile"}}}},"404":{"description":"User not found!","content":{"application/json":{"schema":{"description":"User not found!"}}}},"409":{"description":"Email already in use!","content":{"application/json":{"schema":{"description":"Email already in use!"}}}}}}},"/users/me":{"get":{"summary":"Get current authenticated user profile","tags":["users"],"description":"Retrieves the profile information of the currently authenticated user. This endpoint requires a valid session cookie or session header for authentication.","security":[{"cookie":["session"],"session":["session"]}],"responses":{"200":{"description":"User information","content":{"application/json":{"schema":{"description":"User information","type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"required":["id","email","name","createdAt","updatedAt"],"additionalProperties":false,"examples":[{"id":"cm123abc456def789","email":"user@example.com","name":"John Doe","createdAt":"2025-10-26T16:58:10.961Z","updatedAt":"2025-10-26T16:58:10.961Z"}]}}}},"401":{"description":"Unauthorized - user not logged in","content":{"application/json":{"schema":{"description":"Unauthorized - user not logged in"}}}}}}},"/auth/sign-in":{"post":{"summary":"User authentication","tags":["auth"],"description":"Authenticates a user with email and password credentials, establishing a secure session for accessing protected resources.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email","pattern":"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$","examples":["john.doe@example.com"]},"password":{"type":"string","examples":["12345678"]}},"required":["email","password"]}}},"required":true},"responses":{"200":{"description":"User authenticated successfully!","content":{"application/json":{"schema":{"description":"User authenticated successfully!","type":"object","properties":{"token":{"type":"string"}},"required":["token"],"additionalProperties":false,"examples":[{"token":"{environment}:anaslkcnaloskncaloskncoaisbcoqwbqewboqwbqewboqwb"}]}}}},"401":{"description":"User not authenticated!","content":{"application/json":{"schema":{"description":"User not authenticated!"}}}}}}},"/auth/sign-out":{"post":{"summary":"User logout","tags":["auth"],"description":"Logs out the currently authenticated user, invalidating their session and removing access to protected resources.","security":[{"cookie":[],"session":[]}],"responses":{"200":{"description":"User logged out successfully!","content":{"application/json":{"schema":{"description":"User logged out successfully!"}}}},"401":{"description":"User not authenticated!","content":{"application/json":{"schema":{"description":"User not authenticated!"}}}}}}},"/workspace/":{"post":{"summary":"Create a workspace","tags":["workspace"],"description":"Creates a new workspace for the authenticated user. This endpoint requires a valid session cookie or session header for authentication.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":5,"examples":["John Doe"]},"description":{"type":"string","examples":["This is a description of the workspace"]}},"required":["name"]}}},"required":true},"security":[{"cookie":[],"session":[]}],"responses":{"201":{"description":"Workspace created successfully!","content":{"application/json":{"schema":{"description":"Workspace created successfully!","type":"object","properties":{"workspaceId":{"type":"string"}},"required":["workspaceId"],"additionalProperties":false,"examples":[{"workspaceId":"V1StGXR8_Z5jdHi6B-myT"}]}}}},"401":{"description":"Unauthorized - user not logged in","content":{"application/json":{"schema":{"description":"Unauthorized - user not logged in"}}}},"409":{"description":"Workspace already exists!","content":{"application/json":{"schema":{"description":"Workspace already exists!"}}}}}},"get":{"summary":"List all workspaces","tags":["workspace"],"description":"List all workspaces. This endpoint requires a valid session cookie or session header for authentication.","parameters":[{"schema":{"default":1,"type":"number","examples":[1]},"in":"query","name":"page","required":false},{"schema":{"default":100,"type":"number","minimum":1,"maximum":1000,"examples":[100]},"in":"query","name":"limit","required":false},{"schema":{"type":"string","examples":["development"]},"in":"query","name":"q","required":false,"description":"Search query to filter workspaces by name or description or slug (case insensitive)"}],"security":[{"cookie":[],"session":[]}],"responses":{"200":{"description":"Workspaces listed successfully!","content":{"application/json":{"schema":{"description":"Workspaces listed successfully!","type":"object","properties":{"workspaces":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"owner":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"}},"required":["id","name","email"],"additionalProperties":false},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"totalMembers":{"type":"number"}},"required":["id","name","slug","owner","createdAt","updatedAt","totalMembers"],"additionalProperties":false}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"}},"required":["workspaces","total","page","limit","hasNextPage"],"additionalProperties":false,"examples":[{"workspaces":[{"id":"V1StGXR8_Z5jdHi6B-myT","name":"Development Team","slug":"development-team","description":"Main development workspace for our projects","owner":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"John Doe","email":"john.doe@example.com"},"createdAt":"2024-01-15T10:30:00.000Z","updatedAt":"2024-01-20T14:45:00.000Z","totalMembers":5},{"id":"A2BtHYS9_X6keIj7C-nzU","name":"Marketing Team","slug":"marketing-team","description":"Marketing campaigns and content creation","owner":{"id":"456e7890-e12b-34c5-d678-901234567890","name":"Jane Smith","email":"jane.smith@example.com"},"createdAt":"2024-01-10T08:15:00.000Z","updatedAt":"2024-01-18T16:20:00.000Z","totalMembers":3}],"total":25,"page":1,"limit":100,"hasNextPage":false}]}}}},"401":{"description":"Unauthorized - user not logged in","content":{"application/json":{"schema":{"description":"Unauthorized - user not logged in"}}}}}}},"/workspace/{idOrSlug}":{"get":{"summary":"Get a workspace by id or slug","tags":["workspace"],"description":"Get a workspace by id or slug. This endpoint requires a valid session cookie or session header for authentication.","parameters":[{"schema":{"type":"string","examples":["V1StGXR8_Z5jdHi6B-myT"]},"in":"path","name":"idOrSlug","required":true}],"security":[{"cookie":[],"session":[]}],"responses":{"200":{"description":"Workspace found successfully!","content":{"application/json":{"schema":{"description":"Workspace found successfully!","type":"object","properties":{"workspace":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"owner":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"}},"required":["id","name","email"],"additionalProperties":false},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"members":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"lastAccessedAt":{"type":"string","format":"date-time"}},"required":["id","name","email"],"additionalProperties":false}}},"required":["id","name","slug","owner","createdAt","updatedAt","members"],"additionalProperties":false}},"required":["workspace"],"additionalProperties":false,"examples":[{"workspace":{"id":"V1StGXR8_Z5jdHi6B-myT","name":"John Doe","slug":"john-doe","description":"This is a description of the workspace","owner":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"John Doe","email":"john.doe@example.com"},"createdAt":"2025-10-26T16:58:10.963Z","updatedAt":"2025-10-26T16:58:10.963Z","members":[{"id":"123e4567-e89b-12d3-a456-426614174000","name":"John Doe","email":"john.doe@example.com"},{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Jane Doe","email":"jane.doe@example.com"}]}}]}}}},"401":{"description":"Unauthorized - user not logged in","content":{"application/json":{"schema":{"description":"Unauthorized - user not logged in"}}}},"404":{"description":"Workspace not found!","content":{"application/json":{"schema":{"description":"Workspace not found!"}}}}}},"delete":{"summary":"Delete a workspace by id or slug","tags":["workspace"],"description":"Delete a workspace by id or slug. This endpoint requires a valid session cookie or session header for authentication.","parameters":[{"schema":{"type":"string","examples":["V1StGXR8_Z5jdHi6B-myT"]},"in":"path","name":"idOrSlug","required":true}],"security":[{"cookie":[],"session":[]}],"responses":{"204":{"description":"Workspace deleted successfully!","content":{"application/json":{"schema":{"description":"Workspace deleted successfully!"}}}},"401":{"description":"Unauthorized - user not logged in","content":{"application/json":{"schema":{"description":"Unauthorized - user not logged in"}}}},"403":{"description":"Forbidden - user is not the owner of the workspace","content":{"application/json":{"schema":{"description":"Forbidden - user is not the owner of the workspace"}}}},"404":{"description":"Workspace not found!","content":{"application/json":{"schema":{"description":"Workspace not found!"}}}}}}}}}